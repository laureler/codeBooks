# 短信列表接口文档

<div style="float:right">

|作者|日期|
|----|---|
|郑烨锟|2019年1月22日|

</div>

#### 接口1：获取短信列表

	获取短信列表，默认获取指定条数短信
	如果指定时间段，则默认获取指定时间段的指定条数的短信

> `/getSmsList`

*请求类型*：`POST`

*请求数据*

```json
{
	suid: '123456',  //用户标识
	startTime: '1558800000',   	// 开始时间时间戳：2019-05-26 '' 若均为空，则查询全部
	endTime: '1558886400',  	// 结束时间时间戳：2019-05-27     '' 若均为空，则查询全部
	pageSize: 20,	// 每页显示的条数
	currentPage: 1,	// 当前页数
	bsend: '',	--  	//''代表全部 (-1:未成功,1:已成功,0:草稿)
	searchType: 'MRECV',--相当于标识	// 查询类型 'MRECV' || 'MCONT'  || '' 代表全部类型
	searchText:'',           || '' 代表所有
}
```

*返回数据*

```json
[
	{
		mrecv: "张三", // 收件人
		mcont: "短信内容。。。",	// 短信内容
		mdate: "1569027011",  	// 发送时间时间戳：2019-09-21 08-50-11
		bsend  : "草稿",	//是否发送成功(0|null:失败,1:已成功,-1草稿)
		mrecvtel: '13125742635',	// 电话号码
		errinfo : '错误信息'
	},
	{
		mrecv: "李四",
		mcont: "短信内容。。。",
		mdate: "1569027011",
		bsend: "草稿",
		mrecvtel: '13125742635',
		errinfo: '错误信息'
	}
]
```

> 注：列表数据根据时间倒序显示，也就是最新数据显示在第一条。


#### 接口4：短信发送

	根据可选列表根据,
	注意：若没有收件人姓名，则占位符为 'noName'，例如：对应关系： [noName,李明]， [13125742635;13125742634]

> `/sendSms`

*请求类型*：`POST`

*请求数据*
```json
{
	SUID: '12345',
	receiver: '张三;李四',	// 收件人姓名  “;”英文分号 --MRECV  
	MRECVTEL: '13125742635;13125742634',	// 收件人电话号码 “;”  
	MCONT: '发送内容。。。',  
	sendTime: "1569027011",	// 发送时间时间戳：2019-09-21 08-50-11--MDATE   
}
```

> 这里receiver收件人可以使用选择多个，使用分号`;`区分。同样电话号码也是对应多个，通过选择框同时填入。

*返回数据*

```json
{
	state: true,--?	// 发送状态：true表示成功，false表示失败
	ERRINFO: '',	// 如果发送失败返回失败信息
}
```