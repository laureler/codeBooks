# 短信列表接口文档

<div style="float:right">

|作者|日期|
|----|---|
|郑烨锟|2019年1月22日|

</div>

#### 接口1：获取短信列表

	获取短信列表，默认获取指定条数短信
	如果指定时间段，则默认获取指定时间段的指定条数的短信

> `/getSmsList`

*请求类型*：`POST`

*请求数据*

```json
{
	senderId: '发送人ID',
	startTime: '1558800000',	// 开始时间时间戳：2019-05-26
	endTime: '1558886400',	// 结束时间时间戳：2019-05-27
	pageSize：20,	// 每页显示的条数
}
```

> 注：如果查询全部，直接从1970年标准时间到今天。

*返回数据*

```json
{
	receiver: "张三",	// 收件人
	message: "短信内容。。。",	// 短信内容
	sendTime: "1569027011",	// 发送时间时间戳：2019-09-21 08-50-11
	state: "草稿",	// 状态：草稿、成功、失败。。。
	phoneNumber: '13125742635',	// 电话号码
	errorMessage: '错误信息'
}
```

> 注：列表数据根据时间倒序显示，也就是最新数据显示在第一条。

#### 接口2：短信查询

	根据内容过滤短信

> `/searchSms`

*请求类型*：`POST`

*请求数据*

```json
{
	senderId: '李四ID',	// 发送人ID
	startTime: '1558800000',	// 开始时间时间戳：2019-05-26
	endTime: '1558886400',	// 结束时间时间戳：2019-05-27
	searchType: '0',	// 查询类型
	searchTxt: '张',	// 查询内容
	pageSize：20,	// 每页显示的条数
}
```

> searchType查询类型：全部：0，表示根据所有字段进行查询；收件人：1，表示根据收件人查询；短信内容：2，表示根据短信内容进行查询；状态：3，表示根据短信状态进行过滤。

> 注：如果查询全部，直接从1970年标准时间到今天。

*返回数据*

```json
{
	receiverId: '张三',	// 接收人ID
	receiver: "张三",	// 收件人
	message: "短信内容。。。",	// 短信内容
	smsTime: "2019-09-21 08-50-11",	// 发送时间
	state: "草稿",	// 状态：草稿、成功、失败。。。
	phoneNumber: '13125742635',	// 电话号码
	errorMessage: '错误信息'
}
```

#### 接口3：收件人列表

	显示所有可选收件人

> `/getReceiverList`

*请求类型*：`GET`

*请求数据*
```json
无
```

*返回数据*

```json
[
	{
		id: 1,
		label: "张三",	// 收件人
	},
	{
		id: 2,
		label: "李四",	// 收件人
	},
]
```

> 注：这个接口返回数据为树形控件数据。

#### 接口4：短信发送

	根据可选列表根据

> `/sendSms`

*请求类型*：`POST`

*请求数据*
```json
{
	senderId: '发送人ID',
	receiver: '张三',	// 收件人姓名
	phoneNumber: '13125742635',	// 收件人电话号码
	message: '发送内容。。。',
	sendTime: "1569027011",	// 发送时间时间戳：2019-09-21 08-50-11
}
```

*返回数据*

```json
{
	state: true,	// 发送状态：true表示成功，false表示失败
	errorMessage: '',	// 如果发送失败返回失败信息
}
```